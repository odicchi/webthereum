package jp.ethereum;

import java.math.BigInteger;
import java.util.Arrays;

import org.web3j.abi.FunctionEncoder;
import org.web3j.abi.datatypes.Type;
import org.web3j.abi.datatypes.Utf8String;
import org.web3j.abi.datatypes.generated.Uint256;
import org.web3j.crypto.Credentials;
import org.web3j.protocol.Web3j;
import org.web3j.protocol.core.RemoteCall;
import org.web3j.tx.Contract;
import org.web3j.tx.TransactionManager;
import org.web3j.tx.gas.ContractGasProvider;

public class CallPersonContract extends Contract{

	private static final String BINARY = "608060405234801561001057600080fd5b506040516020806106d0833981016040525160008054600160a060020a03909216600160a060020a031990921691909117905561067e806100526000396000f30060806040526004361061006c5763ffffffff7c0100000000000000000000000000000000000000000000000000000000600035041663246982c4811461007157806362d8e68e1461010857806367b0dbf91461016557806371cf56d314610186578063877dd5be146101ad575b600080fd5b34801561007d57600080fd5b506100896004356101c2565b6040518080602001838152602001828103825284818151815260200191508051906020019080838360005b838110156100cc5781810151838201526020016100b4565b50505050905090810190601f1680156100f95780820380516001836020036101000a031916815260200191505b50935050505060405180910390f35b34801561011457600080fd5b506040805160206004803580820135601f810184900484028501840190955284845261016394369492936024939284019190819084018382808284375094975050933594506103519350505050565b005b34801561017157600080fd5b50610163600160a060020a0360043516610440565b34801561019257600080fd5b5061019b61046f565b60408051918252519081900360200190f35b3480156101b957600080fd5b5061019b6105b4565b60008054604080517f40ab422e00000000000000000000000000000000000000000000000000000000815260048101859052905160609392600160a060020a0316916340ab422e916024808301928692919082900301818387803b15801561022957600080fd5b505af115801561023d573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052602081101561026657600080fd5b81019080805164010000000081111561027e57600080fd5b8201602081018481111561029157600080fd5b81516401000000008111828201871017156102ab57600080fd5b505060008054604080517f689b55dd000000000000000000000000000000000000000000000000000000008152600481018b90529051939650600160a060020a03909116945063689b55dd9350602480820193602093909283900390910190829087803b15801561031b57600080fd5b505af115801561032f573d6000803e3d6000fd5b505050506040513d602081101561034557600080fd5b50519092509050915091565b60008054604080517f2fda437e0000000000000000000000000000000000000000000000000000000081526024810185905260048101918252855160448201528551600160a060020a0390931693632fda437e93879387939092839260649092019160208701918190849084905b838110156103d75781810151838201526020016103bf565b50505050905090810190601f1680156104045780820380516001836020036101000a031916815260200191505b509350505050600060405180830381600087803b15801561042457600080fd5b505af1158015610438573d6000803e3d6000fd5b505050505050565b6000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b60008060008061047d6105b4565b9250600083116104ee57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f556e7265676973746572656420506572736f6e00000000000000000000000000604482015290519081900360640190fd5b5060009050805b828110156105a05760008054604080517f689b55dd0000000000000000000000000000000000000000000000000000000081526001850160048201529051600160a060020a039092169263689b55dd926024808401936020939083900390910190829087803b15801561056757600080fd5b505af115801561057b573d6000803e3d6000fd5b505050506040513d602081101561059157600080fd5b505191909101906001016104f5565b82828115156105ab57fe5b04935050505090565b60008060009054906101000a9004600160a060020a0316600160a060020a031663d0afcb326040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b15801561062157600080fd5b505af1158015610635573d6000803e3d6000fd5b505050506040513d602081101561064b57600080fd5b50519050905600a165627a7a723058201e93ebbc11a4fbcc5285c896468ccafa2ba48c696335d096be64138ac7d582010029";

	protected CallPersonContract(
			String contractAddress,
			Web3j web3j,
			Credentials credentials,
			BigInteger gasPrice,
			BigInteger gasLimit) {
        super(BINARY, contractAddress, web3j, credentials, new SampleGasProvider(gasPrice, gasLimit));
    }

	protected CallPersonContract(
			String contractBinary,
			String contractAddress,
			Web3j web3j,
			Credentials credentials,
			ContractGasProvider gasProvider) {
		super(BINARY, contractAddress, web3j, credentials, gasProvider);
	}

	public static RemoteCall<CallPersonContract> deploy(Web3j web3j, Credentials credentials, BigInteger gasPrice, BigInteger gasLimit, BigInteger initialSupply, String tokenName, String tokenSymbol) {
        String encodedConstructor = FunctionEncoder.encodeConstructor(Arrays.<Type>asList(new Uint256(initialSupply),
                new Utf8String(tokenName),
                new Utf8String(tokenSymbol)));
        return deployRemoteCall(CallPersonContract.class, web3j, credentials, gasPrice, gasLimit, BINARY, encodedConstructor);

    }

	public static RemoteCall<CallPersonContract> deploy(Web3j web3j, TransactionManager transactionManager, BigInteger gasPrice, BigInteger gasLimit, BigInteger initialSupply, String tokenName, String tokenSymbol) {
        String encodedConstructor = FunctionEncoder.encodeConstructor(Arrays.<Type>asList(new Uint256(initialSupply),
                new Utf8String(tokenName),
                new Utf8String(tokenSymbol)));
        return deployRemoteCall(CallPersonContract.class, web3j, transactionManager, gasPrice, gasLimit, BINARY, encodedConstructor);

    }

	public int getPersonCntCall() {
		return 0;
	}
}
